<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materi & Latihan: Tanakh & Piagam Madinah</title>
    <!-- Memuat Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Menggunakan font Inter dari Tailwind sebagai default */
        html {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        /* --- Gaya untuk Drag & Drop --- */

        /* Slot pertanyaan (tempat drop) */
        .question-slot {
            transition: all 0.2s ease;
            min-height: 70px; /* Memberi tinggi minimum */
        }
        
        /* Item jawaban (yang di-drag) */
        .answer-item {
            touch-action: none; /* Penting untuk mobile */
            transition: all 0.2s ease;
        }

        /* Saat item sedang di-drag */
        .dragging {
            opacity: 0.5;
            border-style: dashed;
            transform: scale(0.95);
        }
        
        /* Saat item di-drag di atas slot yang valid */
        .drag-over {
            background-color: #f0f9ff; /* bg-blue-50 */
            ring: 2px;
            ring-color: #3b82f6; /* ring-blue-500 */
            transform: scale(1.02);
        }

        /* Tampilan setelah dicek */
        .correct {
            background-color: #dcfce7; /* bg-green-100 */
            border-left: 4px solid #22c55e; /* border-l-4 border-green-500 */
        }
        .incorrect {
            background-color: #fee2e2; /* bg-red-100 */
            border-left: 4px solid #ef4444; /* border-l-4 border-red-500 */
        }
        
        /* Menyembunyikan item jawaban yang sudah dijodohkan dari kontainer asalnya */
        .answer-item.dropped {
            display: none;
        }

        /* Gaya untuk slot pertanyaan yang sudah terisi */
        .question-slot.filled .slot-placeholder {
            display: none; /* Sembunyikan placeholder saat terisi */
        }
        
        .question-slot.filled .answer-item {
            /* Pastikan item jawaban yang di-drop terlihat */
            display: block !important; 
            opacity: 1 !important;
        }

    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans antialiased">

    <!-- Kontainer Utama -->
    <div class="min-h-screen p-6 sm:p-10">
        
        <!-- Judul Utama -->
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900">
                Tanakh dan Piagam Madinah
            </h1>
            <p class="text-lg text-gray-600 mt-4 max-w-3xl mx-auto">
                Materi Pembelajaran 5: Substansi Piagam Madinah (Mitsâq al Madînah) dan Tanakh dalam Pandangan Yahudi.
            </p>
        </header>

        <!-- Grid untuk Konten Materi -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">

            <!-- Kolom 1: Tanakh -->
            <article class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col">
                <!-- Header Kartu Tanakh -->
                <div class="p-6">
                    <div class="flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 text-blue-600">
                        <!-- Ikon Buku -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13.5m0-13.5A6.375 6.375 0 005.625 12.5v0c0 3.52 2.855 6.375 6.375 6.375s6.375-2.855 6.375-6.375v0A6.375 6.375 0 0012 6.253zM12 6.253V3m0 3.253A6.375 6.375 0 0118.375 12.5v0c0 3.52-2.855 6.375-6.375 6.375S5.625 16.02 5.625 12.5v0A6.375 6.375 0 0112 6.253z" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900 mt-5">
                        Tanakh dalam Pandangan Yahudi
                    </h2>
                </div>

                <!-- Isi Kartu Tanakh -->
                <div class="p-6 pt-0 flex-grow">
                    <p class="text-base text-gray-700 mb-4">
                        <strong class="font-semibold">Tanakh</strong> dipercaya sebagai bagian pertama dari Lima Kitab Musa. Kitab Taurat, Kata Tanakh pada awalnya tidak digunakan, tapi lebih dikenal dengan sebutan "<strong class="font-semibold">Mikra</strong>", bacaan suci seperti kitab-kitab suci lainnya.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Secara garis besar, suku-bangsa Yahudi terbagi dua golongan:
                        <ul class="list-disc list-inside space-y-1 pl-4 text-sm text-gray-600 mb-4">
                            <li><strong>Pertama, Yahudi Totok</strong>: terdiri dari suku-bangsa dari garis bangsa murni dan beragama Yahudi.</li>
                            <li><strong>Kedua, Yahudi Campuran</strong>: yaitu beragama Yahudi tapi bersuku-bangsa selain Yahudi.</li>
                        </ul>
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Kata Yahudi disematkan kepada suku-bangsa dan agama bagi anak turun Yehuda bin Israel. <strong class="font-semibold">Israel</strong> adalah nama lain dari <strong class="font-semibold">Nabi Ya'kub As</strong>. Yahudi Totok hidup secara <strong class="font-semibold">eksklusif</strong> dan tertutup, tidak membuka diri kepada suku-bangsa asing, dan hanya menikah dengan sesama mereka.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Dalam tradisi pembacaan kitab suci Yahudi, Tanakh terdiri dari <strong class="font-semibold">24 kitab</strong>. Dalam Tanakh ini, diceritakan secara biografis kedua belas putera Nabi Ya'kub As dan peran mereka sebagai nabi.
                    </p>
                    
                    <h3 class="font-semibold text-lg text-gray-800 mt-6 mb-2">Warisan Tanah Kanaan</h3>
                    <p class="text-base text-gray-700 mb-4">
                        Dalam pandangan Yahudi (Totok maupun Campuran), mereka adalah pewaris <strong class="font-semibold">Tanah Kanaan</strong>. Kanaan adalah salah satu putera <strong class="font-semibold">Nabi Nuh As</strong>. Menurut pandangan Kaum Yahudi, kepemilikan tanah Kanaan dijanjikan oleh Allah kepada <strong class="font-semibold">Nabi Ibrahim As</strong> pada kurun 2000 SM.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Luas Tanah Kanaan meliputi Israel, <strong class="font-semibold">Lebanon</strong>, <strong class="font-semibold">Yordania</strong>, <strong class="font-semibold">Suriah</strong>, dan sebagian Timur Laut Mesir sekarang.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Sepeninggal Nabi Ibrahim As, generasi penerusnya adalah Nabi Ismail As (Bani Arab), Nabi Ishaq As, Nabi Ya'kub As (Israel), Yehuda, Nabi Yusuf As, Benyamin, <strong class="font-semibold">Nabi Daud As</strong>, <strong class="font-semibold">Nabi Sulaiman As</strong>, Rehabeam (Suku Yehuda), dan Yerobeam (Suku Efraim).
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Bangsa Yahudi sempat hijrah ke Mesir ketika <strong class="font-semibold">Nabi Yusuf As</strong> menjadi raja. Setelah Mesir dikuasai Yunani, mereka kembali di bawah kekuasaan <strong class="font-semibold">Fir'aun</strong>. Mereka kembali ke Kanaan dan diberi keleluasaan membangun kerajaan sendiri hingga masa Nabi Daud As dan Nabi Sulaiman As.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Sejarah juga mencatat penindasan oleh suku-bangsa Yahudi terhadap suku-bangsa <strong class="font-semibold">Qibti (Koptik)</strong> di Mesir yang beragama Nasrani. Di sisi lain, mereka diperbudak dan dibuang ke negeri Babilonia, <strong class="font-semibold">Irak</strong>.
                    </p>
                </div>
            </article>

            <!-- Kolom 2: Piagam Madinah -->
            <article class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col">
                <!-- Header Kartu Piagam Madinah -->
                <div class="p-6">
                    <div class="flex items-center justify-center h-12 w-12 rounded-full bg-green-100 text-green-600">
                        <!-- Ikon Dokumen -->
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-900 mt-5">
                        Substansi Piagam Madinah
                    </h2>
                </div>

                <!-- Isi Kartu Piagam Madinah -->
                <div class="p-6 pt-0 flex-grow">
                    <p class="text-base text-gray-700 mb-4">
                        Di antara suku-bangsa Yahudi, ada yang membenci dan memusuhi <strong class="font-semibold">Rasulullah Saw</strong>. Mereka rindu pada tanah yang dijanjikan (Kanaan) sehingga membuat mereka <strong class="font-semibold">terasing dan takut kehilangan</strong>.
                    </p>

                    <h3 class="font-semibold text-lg text-gray-800 mt-6 mb-2">Juru Damai di Tengah Pertikaian</h3>
                    <p class="text-base text-gray-700 mb-4">
                        Pertikaian di Kota <strong class="font-semibold">Yatsrib</strong> (Madinah) sebelum hijrah Rasulullah Saw, memiliki akar <strong class="font-semibold">teologis</strong> (ketuhanan). Ini adalah perebutan tanah dan legitimasi kekuasaan. Penduduknya terdiri dari bangsa <strong class="font-semibold">Arab</strong> (yang memeluk agama Nasrani) dan suku-bangsa Yahudi.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Rasulullah Saw memposisikan diri sebagai <strong class="font-semibold">Juru Damai</strong>.
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Ketika Rasulullah Saw tiba di Yatsrib, kota terbagi menjadi <strong class="font-semibold">tiga kelompok</strong> heterogen:
                         <ul class="list-disc list-inside space-y-1 pl-4 text-sm text-gray-600 mb-4">
                            <li><strong>Pertama</strong>: Kelompok Muslim (Kaum Muhajirin dan Kaum Anshar).</li>
                            <li><strong>Kedua</strong>: Kelompok besar dari Suku <strong class="font-semibold">Khazraj dan Aus</strong> yang belum sepenuhnya menerima kedatangan Rasulullah Saw.</li>
                            <li><strong>Ketiga</strong>: Kelompok suku-bangsa <strong class="font-semibold">Yahudi Totok</strong>.</li>
                        </ul>
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Rasulullah Saw melakukan rekonsiliasi melalui <strong class="font-semibold">Piagam Madinah</strong>, yang juga disebut <strong class="font-semibold">Shahifah</strong>. Kandungan teks tertua Piagam Madinah ada dalam kitab *Sirah Nabawiyah* karya <strong class="font-semibold">Ibnu Hisyam</strong>, pada bab "<strong class="font-semibold">Bab Ar Rasul Yuwadi'u Al Yahud</strong>".
                    </p>
                    
                    <h3 class="font-semibold text-lg text-gray-800 mt-6 mb-2">Poin-Poin Penting Piagam</h3>
                    <p class="text-base text-gray-700 mb-4">
                        Di antara poin-poin penting tersebut adalah:
                         <ul class="list-decimal list-inside space-y-2 pl-4 text-sm text-gray-600 mb-4">
                            <li>"Surat perjanjian dari Muhammad: antara orang beriman dan Muslimin dari Quraisy dan Yatsrib, serta yang mengikuti mereka... bahwa mereka adalah <strong class="font-semibold">satu umat (ummah)</strong>."</li>
                            <li>"Bahwa kabilah Yahudi... mempunyai <strong class="font-semibold">hak dan kewajiban</strong> seperti mereka yang sudah menyetujui naskah perjanjian ini."</li>
                            <li>"Bahwa barang siapa keluar atau tinggal di dalam kota ini, keselamatannya terjamin, kecuali orang yang melakukan kezaliman dan <strong class="font-semibold">kejahatan</strong>."</li>
                        </ul>
                    </p>
                    <p class="text-base text-gray-700 mb-4">
                        Dari untaian janji dan ikatan (disebut <strong class="font-semibold">mîtsâq</strong>), ini adalah <strong class="font-semibold">kontrak sosial</strong>. Piagam ini memecahkan problem sosial, terutama urusan materi dan <strong class="font-semibold">hak milik</strong>. Rasulullah Saw melalui piagam ini menjadi "<strong class="font-semibold">role model</strong>" bagi konstitusi negara di masa-masa modern.
                    </p>
                </div>
            </article>

        </div>
        <!-- Akhir Grid Konten Materi -->


        <!-- BAGIAN LATIHAN INTERAKTIF -->
        <section id="latihan" class="max-w-6xl mx-auto mt-16">
            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="p-6 sm:p-10">
                    <h2 class="text-3xl font-bold text-gray-900 mb-4">
                        Latihan Interaktif: Jodohkan!
                    </h2>
                    <p class="text-gray-600 mb-6">
                        Ayo, uji pemahamanmu! Tarik (drag) jawaban dari kolom "Pilihan Jawaban" di sebelah kanan ke slot "Pertanyaan" yang sesuai di sebelah kiri.
                    </p>

                    <!-- Input Nama dan Kelas -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                        <div>
                            <label for="input-nama" class="block text-sm font-medium text-gray-700 mb-1">Nama Lengkap:</label>
                            <input type="text" id="input-nama" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" placeholder="Contoh: Budi Hartono">
                        </div>
                        <div>
                            <label for="input-kelas" class="block text-sm font-medium text-gray-700 mb-1">Kelas:</label>
                            <input type="text" id="input-kelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" placeholder="Contoh: X-A">
                        </div>
                    </div>
                    
                    <!-- Area Hasil -->
                    <div id="result-message" class="mb-6 p-4 rounded-md text-lg font-semibold hidden"></div>

                    <!-- Grid Latihan -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        
                        <!-- Kolom 1: Pertanyaan (Slot Drop) -->
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-4 border-b-2 border-gray-200 pb-2">
                                Pertanyaan
                            </h3>
                            <div id="question-slots-container" class="space-y-3">
                                <!-- Slot pertanyaan akan diisi oleh JavaScript -->
                            </div>
                        </div>

                        <!-- Kolom 2: Jawaban (Item Drag) -->
                        <div>
                            <h3 class="text-xl font-semibold text-gray-800 mb-4 border-b-2 border-gray-200 pb-2">
                                Pilihan Jawaban
                            </h3>
                            <div id="answer-items-container" class="space-y-3 p-3 bg-gray-50 rounded-lg min-h-[300px]">
                                <!-- Item jawaban akan diisi oleh JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Tombol Aksi -->
                    <div class="mt-8 flex flex-col sm:flex-row gap-4 flex-wrap">
                        <button id="check-btn" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-200">
                            Cek Jawaban
                        </button>
                        <button id="reset-btn" class="w-full sm:w-auto bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-200">
                            Reset (Soal Baru)
                        </button>
                        <!-- Tombol Baru (Awalnya tersembunyi) -->
                        <a id="download-btn" href="#" class="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-200 text-center hidden">
                            Unduh Hasil (.txt)
                        </a>
                        <a id="wa-btn" href="#" target="_blank" class="w-full sm:w-auto bg-emerald-500 hover:bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-all duration-200 text-center hidden">
                            Kirim ke WhatsApp
                        </a>
                    </div>

                </div>
            </div>
        </section>
        <!-- AKHIR BAGIAN LATIHAN -->


        <!-- Footer -->
        <footer class="text-center mt-12 text-gray-500 text-sm">
            Halaman ini dibuat sebagai materi pembelajaran.
        </footer>

    </div>

    <!-- Script untuk Latihan Drag & Drop -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. BANK DATA SOAL (50 SOAL) ---
            const allQuestions = [
                // Tanakh (25) - Berdasarkan Foto
                { id: 1, q: "Nama lain dari Tanakh yang juga digunakan sebagai bacaan suci.", a: "Mikra" },
                { id: 2, q: "Tanakh dipercaya sebagai bagian pertama dari Lima Kitab...", a: "Musa" },
                { id: 3, q: "Kelompok Yahudi murni dari satu garis bangsa dan beragama Yahudi.", a: "Yahudi Totok" },
                { id: 4, q: "Kelompok Yahudi yang beragama Yahudi tapi bukan dari garis bangsa murni.", a: "Yahudi Campuran" },
                { id: 5, q: "Sebutan 'Yahudi' dinisbatkan kepada bangsa dan keturunan...", a: "Nabi Ya'kub As" },
                { id: 6, q: "Nama lain dari Nabi Ya'kub As.", a: "Israel" },
                { id: 7, q: "Nabi Ya'kub As adalah anak dari Nabi...", a: "Nabi Ishak As" },
                { id: 8, q: "Nabi Ya'kub As adalah salah satu dari 12 saudara Nabi...", a: "Nabi Yusuf As" },
                { id: 9, q: "Menurut tradisi pembacaan, Tanakh terdiri dari berapa kitab?", a: "24 kitab" },
                { id: 10, q: "Tanakh menceritakan biografi keduabelas putera Nabi Ya'kub As sebagai...", a: "Nabi" },
                { id: 11, q: "Menurut pandangan Yahudi, siapa pewaris Tanah Kanaan?", a: "Yahudi (Totok dan Campuran)" },
                { id: 12, q: "Kanaan adalah salah satu putera dari Nabi...", a: "Nabi Nuh As" },
                { id: 13, q: "Tanah Kanaan dijanjikan Allah kepada Nabi... sekitar 2000 SM.", a: "Nabi Ibrahim As" },
                { id: 14, q: "Sebutkan salah satu wilayah yang termasuk Tanah Kanaan (selain Yordania, Suriah, Mesir).", a: "Lebanon" },
                { id: 15, q: "Sebutkan salah satu wilayah yang termasuk Tanah Kanaan (selain Lebanon, Suriah, Mesir).", a: "Yordania" },
                { id: 16, q: "Sebutkan salah satu wilayah yang termasuk Tanah Kanaan (selain Lebanon, Yordania, Mesir).", a: "Suriah" },
                { id: 17, q: "Nabi Ibrahim As memiliki dua putera, yaitu Nabi Ismail As (Bani Arab) dan...", a: "Nabi Ishak As" },
                { id: 18, q: "Suku yang berasal dari Rehabeam.", a: "Suku Yehuda" },
                { id: 19, q: "Suku yang berasal dari Yerobeam (keturunan Nabi Yusuf As).", a: "Suku Efraim" },
                { id: 20, q: "Bangsa Yahudi hijrah ke Mesir ketika... menjadi raja.", a: "Nabi Yusuf As" },
                { id: 21, q: "Setelah Mesir dikuasai Yunani, bangsa Yahudi kembali di bawah kekuasaan...", a: "Fir'aun" },
                { id: 22, q: "Kerajaan Yahudi berhasil dibangun pada masa Nabi... dan Nabi Sulaiman As.", a: "Nabi Daud As" },
                { id: 23, q: "Bangsa Yahudi pernah menindas suku-bangsa... di Mesir yang beragama Nasrani.", a: "Qibti (Koptik)" },
                { id: 24, q: "Bangsa Yahudi pernah di-perbudak dan dibuang ke Babilonia dan...", a: "Irak" },
                { id: 25, q: "Judul materi pembelajaran 5 pada foto.", a: "Substansi Piagam Madinah" },
                
                // Piagam Madinah (25) - Berdasarkan Foto
                { id: 26, q: "Nama Arab untuk Piagam Madinah.", a: "Mitsâq al Madînah" },
                { id: 27, q: "Nama lain untuk Piagam Madinah (dokumen).", a: "Shahifah" },
                { id: 28, q: "Gelar Rasulullah Saw dalam memposisikan diri di tengah pertikaian.", a: "Juru Damai" },
                { id: 29, q: "Nama kota Madinah sebelum kedatangan Rasulullah Saw.", a: "Yatsrib" },
                { id: 30, q: "Konflik di Yatsrib sebelum Islam memiliki akar sejarah...", a: "Teologis (ketuhanan)" },
                { id: 31, q: "Penduduk Yatsrib yang beragama Nasrani berasal dari bangsa...", a: "Arab" },
                { id: 32, q: "Di Yatsrib, kota secara demografis terbagi menjadi berapa kelompok?", a: "Tiga kelompok" },
                { id: 33, q: "Kelompok pertama di Yatsrib: Kaum Muslimin, terdiri dari Muhajirin dan...", a: "Anshar" },
                { id: 34, q: "Kelompok kedua di Yatsrib: kelompok besar dari Suku Khazraj dan...", a: "Aus" },
                { id: 35, q: "Kelompok ketiga di Yatsrib: kelompok suku-bangsa...", a: "Yahudi Totok" },
                { id: 36, q: "Rasulullah Saw melakukan rekonsiliasi melalui lembaran-lembaran...", a: "Piagam Madinah" },
                { id: 37, q: "Kandungan teks Piagam Madinah dapat ditemukan di kitab Sirah Nabawiyah karya...", a: "Ibnu Hisyam" },
                { id: 38, q: "Judul bab dalam Sirah Nabawiyah yang memuat piagam ini.", a: "Bab Ar Rasul Yuwadi'u Al Yahud" },
                { id: 39, q: "Poin pertama piagam: Orang beriman (Quraisy & Yatsrib) dan pengikutnya adalah...", a: "Satu umat (ummah)" },
                { id: 40, q: "Poin kedua piagam: Kabilah Yahudi mempunyai... yang sama dengan yang menyetujui naskah.", a: "Hak dan kewajiban" },
                { id: 41, q: "Poin ketiga piagam: Keselamatan terjamin bagi semua, kecuali yang berbuat kezaliman dan...", a: "Kejahatan" },
                { id: 42, q: "Uraian piagam menunjukkan ini adalah 'janji dan ikatan' secara lahir dan...", a: "Batin (mîtsâq)" },
                { id: 43, q: "Piagam Madinah berhasil memecahkan masalah sosial, terutama urusan materi dan...", a: "Hak milik" },
                { id: 44, q: "Piagam Madinah menjadikan Rasulullah Saw sebagai...", a: "Role model" },
                { id: 45, q: "Dalam foto, suku-bangsa Yahudi membenci dan memusuhi...", a: "Rasulullah Saw" },
                { id: 46, q: "Suku Yahudi merindukan tanah yang dijanjikan, yaitu...", a: "Kanaan" },
                { id: 47, q: "Perasaan suku Yahudi di Madinah (sebelum piagam) karena terusir dari tanah mereka.", a: "Terasing dan takut kehilangan" },
                { id: 48, q: "Sifat orang Yahudi (menurut teks) yang tidak mau membuka diri.", a: "Eksklusif / tertutup" },
                { id: 49, q: "Orang Yahudi (menurut teks) hanya menikah dengan...", a: "Sesama mereka" },
                { id: 50, q: "Perjanjian dalam Piagam Madinah disebut juga kontrak...", a: "Sosial" }
            ];

            // --- 2. VARIABEL GLOBAL & REFERENSI DOM ---
            const questionSlotsContainer = document.getElementById('question-slots-container');
            const answerItemsContainer = document.getElementById('answer-items-container');
            const checkBtn = document.getElementById('check-btn');
            const resetBtn = document.getElementById('reset-btn');
            const resultMessage = document.getElementById('result-message');
            
            // Elemen baru
            const inputNama = document.getElementById('input-nama');
            const inputKelas = document.getElementById('input-kelas');
            const downloadBtn = document.getElementById('download-btn');
            const waBtn = document.getElementById('wa-btn');
            
            let draggedItem = null; // Menyimpan item yang sedang di-drag
            let currentQuestions = []; // Menyimpan 10 soal yang aktif

            // --- 3. FUNGSI UTAMA ---

            /**
             * Fungsi untuk mengacak array (Fisher-Yates Shuffle)
             * @param {Array} array - Array yang akan diacak
             */
            function shuffleArray(array) {
                let currentIndex = array.length, randomIndex;
                while (currentIndex !== 0) {
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex--;
                    [array[currentIndex], array[randomIndex]] = [
                        array[randomIndex], array[currentIndex]];
                }
                return array;
            }

            /**
             * Inisialisasi atau Reset Kuis
             */
            function initQuiz() {
                // Bersihkan kontainer
                questionSlotsContainer.innerHTML = '';
                answerItemsContainer.innerHTML = '';
                resultMessage.innerHTML = '';
                resultMessage.classList.add('hidden');
                checkBtn.disabled = false;

                // Sembunyikan tombol hasil
                downloadBtn.classList.add('hidden');
                waBtn.classList.add('hidden');
                downloadBtn.href = '#';
                waBtn.href = '#';

                // 1. Pilih 10 soal secara acak
                currentQuestions = shuffleArray([...allQuestions]).slice(0, 10);
                
                // 2. Buat array terpisah untuk jawaban & acak jawaban
                let answers = shuffleArray(currentQuestions.map(q => ({ id: q.id, text: q.a })));

                // 3. Render Slot Pertanyaan (Drop Zones)
                currentQuestions.forEach(q => {
                    const slot = document.createElement('div');
                    slot.className = 'question-slot bg-gray-100 p-4 rounded-lg flex items-center justify-between';
                    slot.dataset.matchId = q.id; // ID yang harus dicocokkan
                    
                    // Teks pertanyaan
                    const questionText = document.createElement('span');
                    questionText.className = 'text-gray-700 text-sm';
                    questionText.textContent = q.q;
                    
                    // Placeholder untuk drop
                    const placeholder = document.createElement('span');
                    placeholder.className = 'slot-placeholder text-gray-400 text-xs italic';
                    placeholder.textContent = '(Tarik jawaban ke sini)';

                    slot.appendChild(questionText);
                    slot.appendChild(placeholder);
                    
                    questionSlotsContainer.appendChild(slot);
                    
                    // Tambahkan listener untuk drop
                    addDropListeners(slot);
                });

                // 4. Render Item Jawaban (Draggable)
                answers.forEach(a => {
                    const item = document.createElement('div');
                    item.className = 'answer-item bg-white p-3 rounded-lg shadow-sm border border-gray-200 cursor-move';
                    item.dataset.matchId = a.id; // ID jawaban
                    item.draggable = true;
                    item.textContent = a.text;
                    
                    answerItemsContainer.appendChild(item);
                    
                    // Tambahkan listener untuk drag
                    addDragListeners(item);
                });
            }

            // --- 4. FUNGSI EVENT LISTENER DRAG & DROP ---

            /**
             * Tambahkan listener drag ke item jawaban
             * @param {HTMLElement} item - Elemen yang bisa di-drag
             */
            function addDragListeners(item) {
                item.addEventListener('dragstart', (e) => {
                    draggedItem = item;
                    e.dataTransfer.setData('text/plain', item.dataset.matchId);
                    setTimeout(() => item.classList.add('dragging'), 0);
                });

                item.addEventListener('dragend', () => {
                    setTimeout(() => {
                        draggedItem.classList.remove('dragging');
                        draggedItem = null;
                    }, 0);
                });
            }

            /**
             * Tambahkan listener drop ke slot pertanyaan
             * @param {HTMLElement} slot - Elemen tempat drop
             */
            function addDropListeners(slot) {
                slot.addEventListener('dragover', (e) => {
                    e.preventDefault(); // Wajib agar drop berfungsi
                    slot.classList.add('drag-over');
                });

                slot.addEventListener('dragleave', () => {
                    slot.classList.remove('drag-over');
                });

                slot.addEventListener('drop', (e) => {
                    e.preventDefault();
                    slot.classList.remove('drag-over');
                    
                    if (draggedItem) {
                        // Jika slot sudah terisi, kembalikan item lama ke kontainer jawaban
                        const existingItem = slot.querySelector('.answer-item');
                        if (existingItem) {
                            answerItemsContainer.appendChild(existingItem);
                            existingItem.classList.remove('dropped');
                        }
                        
                        // Masukkan item baru ke slot
                        slot.appendChild(draggedItem);
                        draggedItem.classList.add('dropped'); // Sembunyikan dari daftar asal
                        slot.classList.add('filled'); // Tandai slot terisi
                    }
                });
            }
            
            // Listener untuk kontainer jawaban (agar bisa mengembalikan item)
            answerItemsContainer.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.currentTarget.classList.add('drag-over');
            });
            answerItemsContainer.addEventListener('dragleave', (e) => {
                e.currentTarget.classList.remove('drag-over');
            });
            answerItemsContainer.addEventListener('drop', (e) => {
                e.preventDefault();
                e.currentTarget.classList.remove('drag-over');
                if (draggedItem) {
                    answerItemsContainer.appendChild(draggedItem);
                    draggedItem.classList.remove('dropped');
                    // Cari slot asal jika ada, dan hapus status 'filled'
                    const oldSlot = document.querySelector(`.question-slot .answer-item[data-match-id="${draggedItem.dataset.matchId}"]`)?.parentElement;
                    if(oldSlot) {
                        oldSlot.classList.remove('filled');
                    }
                }
            });


            // --- 5. FUNGSI CEK & RESET ---

            /**
             * Cek semua jawaban
             */
            function checkAnswers() {
                // Ambil nama dan kelas
                const nama = inputNama.value.trim();
                const kelas = inputKelas.value.trim();

                // Validasi Nama dan Kelas
                if (!nama || !kelas) {
                    resultMessage.textContent = 'Harap isi Nama dan Kelas Anda terlebih dahulu!';
                    resultMessage.className = 'mb-6 p-4 rounded-md text-lg font-semibold text-red-800 bg-red-100';
                    resultMessage.classList.remove('hidden');
                    return; // Hentikan fungsi jika belum diisi
                }

                let score = 0;
                const total = currentQuestions.length;
                
                const slots = questionSlotsContainer.querySelectorAll('.question-slot');
                
                slots.forEach(slot => {
                    // Hapus status sebelumnya
                    slot.classList.remove('correct', 'incorrect');

                    const questionId = slot.dataset.matchId;
                    const answerItem = slot.querySelector('.answer-item');
                    
                    if (answerItem) {
                        const answerId = answerItem.dataset.matchId;
                        if (questionId === answerId) {
                            slot.classList.add('correct');
                            score++;
                        } else {
                            slot.classList.add('incorrect');
                        }
                    } else {
                        // Tidak dijawab
                        slot.classList.add('incorrect');
                    }
                });

                // Tampilkan hasil
                resultMessage.textContent = `Hasil untuk ${nama} (${kelas}): Skor Anda ${score} dari ${total} benar.`;
                if(score === total) {
                    resultMessage.className = 'mb-6 p-4 rounded-md text-lg font-semibold text-green-800 bg-green-100';
                } else if (score > total / 2) {
                    resultMessage.className = 'mb-6 p-4 rounded-md text-lg font-semibold text-blue-800 bg-blue-100';
                } else {
                    resultMessage.className = 'mb-6 p-4 rounded-md text-lg font-semibold text-red-800 bg-red-100';
                }
                
                resultMessage.classList.remove('hidden');
                checkBtn.disabled = true; // Nonaktifkan tombol cek

                // Siapkan teks ringkasan untuk diunduh dan dikirim
                const summaryText = `--- HASIL KUIS ---\n\nNama: ${nama}\nKelas: ${kelas}\nSkor: ${score} dari ${total}\nMateri: Tanakh dan Piagam Madinah`;

                // Atur Tombol Unduh
                const blob = new Blob([summaryText], { type: 'text/plain' });
                downloadBtn.href = URL.createObjectURL(blob);
                downloadBtn.download = `Hasil-Kuis-${nama.replace(/\s+/g, '-')}.txt`;
                downloadBtn.classList.remove('hidden');

                // Atur Tombol WhatsApp
                // Nomor 085888892326 diubah ke format internasional 62...
                const waNumber = "6285888892326"; 
                const waText = encodeURIComponent(summaryText);
                waBtn.href = `https://wa.me/${waNumber}?text=${waText}`;
                waBtn.classList.remove('hidden');
            }

            // --- 6. INISIALISASI ---
            checkBtn.addEventListener('click', checkAnswers);
            resetBtn.addEventListener('click', initQuiz);
            
            // Mulai kuis saat halaman dimuat
            initQuiz();
        });
    </script>

</body>
</html>
